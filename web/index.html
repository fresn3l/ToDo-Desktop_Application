<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Document metadata and configuration -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Main application container - wraps entire app -->
    <div class="container">
        
        <!-- Header section - contains app title and tab navigation -->
        <header>
            <!-- App title/logo -->
            <h1>âœ“ ToDo</h1>
            
            <!-- Tab navigation buttons - switch between Tasks, Goals, Analytics, Journal, and Settings views -->
            <div class="tabs">
                <button class="tab-button active" data-tab="tasks">Tasks</button>
                <button class="tab-button" data-tab="goals">Goals</button>
                <button class="tab-button" data-tab="analytics">Analytics</button>
                <button class="tab-button" data-tab="journal">Journal</button>
                <button class="tab-button" data-tab="settings">Settings</button>
            </div>
        </header>

        <!-- ============================================ -->
        <!-- TASKS TAB - Main task management interface -->
        <!-- ============================================ -->
        <div id="tasksTab" class="tab-content active">
            
            <!-- Filter and search controls bar -->
            <div class="header-controls">
                <!-- Search input - filters tasks by text search -->
                <input type="text" id="searchInput" placeholder="Search tasks..." class="search-input">
                
                <!-- Priority filter dropdown - filter by Now/Next/Later -->
                <select id="filterPriority" class="filter-select">
                    <option value="">All Priorities</option>
                    <option value="Now">Now</option>
                    <option value="Next">Next</option>
                    <option value="Later">Later</option>
                </select>
                
                <!-- Goal filter dropdown - filter tasks by linked goal (populated dynamically) -->
                <select id="filterGoal" class="filter-select">
                    <option value="">All Goals</option>
                </select>
                
                <!-- Sort dropdown - sort tasks by different criteria -->
                <select id="sortTasks" class="filter-select">
                    <option value="category">Sort by Category</option>
                    <option value="due-date">Sort by Due Date</option>
                    <option value="due-today">Due Today</option>
                    <option value="due-week">Due This Week</option>
                    <option value="priority">Sort by Priority</option>
                </select>
                
                <!-- Toggle button - show/hide completed tasks -->
                <button id="showCompleted" class="btn-toggle">Show Completed</button>
            </div>

            <!-- Button to show/hide task form -->
            <div class="add-task-button-container">
                <button id="toggleTaskForm" class="btn-primary btn-add-task">
                    <span class="btn-icon">+</span>
                    Add New Task
                </button>
            </div>

            <!-- Task creation form section - hidden by default -->
            <div class="task-form" id="taskFormContainer" style="display: none;">
                <h2>Add New Task</h2>
                <form id="taskForm">
                    <!-- Task title input - required field -->
                    <input type="text" id="taskTitle" placeholder="Task title..." required>
                    
                    <!-- Task description textarea - optional details -->
                    <textarea id="taskDescription" placeholder="Description (optional)"></textarea>
                    
                    <!-- Form row - contains multiple form fields side by side -->
                    <div class="form-row">
                        <!-- Priority selection dropdown -->
                        <div class="form-group">
                            <label for="taskPriority">Priority:</label>
                            <select id="taskPriority">
                                <option value="Now">Now</option>
                                <option value="Next" selected>Next</option>
                                <option value="Later">Later</option>
                            </select>
                        </div>
                        
                        <!-- Due date picker -->
                        <div class="form-group">
                            <label for="taskDueDate">Due Date:</label>
                            <input type="date" id="taskDueDate">
                        </div>
                        
                        <!-- Goal selection - optional -->
                        <div class="form-group">
                            <label for="taskGoal">Goal (optional):</label>
                            <select id="taskGoal">
                                <option value="">No Goal (Misc)</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Time spent input - optional, for time-based goal tracking -->
                    <div class="form-group">
                        <label for="taskTimeSpent">Time Spent (hours, optional):</label>
                        <input type="number" id="taskTimeSpent" placeholder="e.g., 2.5" min="0" step="0.1">
                        <small>Enter hours spent on this task (used for time-based goal tracking)</small>
                    </div>
                    
                    <!-- Submit button - creates the new task -->
                    <button type="submit" class="btn-primary">Add Task</button>
                </form>
            </div>

            <!-- Tasks display section - shows all tasks organized by goal -->
            <div class="tasks-section">
                <h2>Tasks</h2>
                <!-- Container where task items are dynamically inserted by JavaScript -->
                <div id="tasksContainer" class="tasks-container">
                    <!-- Tasks will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- GOALS TAB - Goal management interface -->
        <!-- ============================================ -->
        <div id="goalsTab" class="tab-content">
            
            <!-- Goal creation form section -->
            <div class="goals-form">
                <h2>Add New Goal</h2>
                <form id="goalForm">
                    <!-- Goal title input - required field -->
                    <input type="text" id="goalTitle" placeholder="Goal title..." required>
                    
                    <!-- Goal description textarea - optional details -->
                    <textarea id="goalDescription" placeholder="Description (optional)"></textarea>
                    
                    <!-- Time goal input - optional time-based goal tracking -->
                    <div class="form-group">
                        <label for="goalTimeGoal">Time Goal (hours, optional):</label>
                        <input type="number" id="goalTimeGoal" placeholder="e.g., 200" min="0" step="0.1">
                        <small>Set a time goal to track hours spent (e.g., "200 hours learning python")</small>
                    </div>
                    
                    <!-- Submit button - creates the new goal -->
                    <button type="submit" class="btn-primary">Add Goal</button>
                </form>
            </div>

            <!-- Goals display section - shows all goals with progress -->
            <div class="goals-section">
                <h2>Goals</h2>
                <!-- Container where goal cards are dynamically inserted by JavaScript -->
                <div id="goalsContainer" class="goals-container">
                    <!-- Goals will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- ANALYTICS TAB - Data analytics and insights -->
        <!-- ============================================ -->
        <div id="analyticsTab" class="tab-content">
            
            <!-- Analytics header with refresh and reset buttons -->
            <div class="analytics-header">
                <h2>Analytics & Insights</h2>
                <div class="analytics-header-buttons">
                    <button id="refreshAnalytics" class="btn-primary">Refresh Data</button>
                    <button id="resetCardLayout" class="btn-secondary">Reset Layout</button>
                </div>
            </div>

            <!-- Analytics container - all analytics cards will be inserted here -->
            <div id="analyticsContainer" class="analytics-container">
                <!-- Analytics will be dynamically inserted here by JavaScript -->
            </div>
        </div>

        <!-- ============================================ -->
        <!-- JOURNAL TAB - Journal entry with timer -->
        <!-- ============================================ -->
        <div id="journalTab" class="tab-content">
            
            <!-- Journal header -->
            <div class="journal-header">
                <h2>Journal</h2>
            </div>

            <!-- New entry section with timer -->
            <div class="journal-entry-section">
                <div class="journal-timer-container">
                    <div class="timer-display" id="timerDisplay">10:00</div>
                    <div class="timer-controls">
                        <button id="startTimer" class="btn-primary">Start Entry</button>
                        <button id="pauseTimer" class="btn-secondary" style="display: none;">Pause</button>
                        <button id="continueTimer" class="btn-secondary" style="display: none;">Continue</button>
                    </div>
                    <div class="timer-status" id="timerStatus">Ready to start</div>
                </div>

                <!-- Journal entry textarea -->
                <div class="journal-text-container">
                    <textarea 
                        id="journalEntry" 
                        placeholder="Start writing your journal entry... (Timer will start when you begin typing)"
                        rows="15"
                    ></textarea>
                </div>

                <!-- Save entry button -->
                <div class="journal-actions">
                    <button id="saveEntry" class="btn-primary" disabled>Save Entry</button>
                    <button id="clearEntry" class="btn-secondary">Clear</button>
                </div>
            </div>

            <!-- Past entries section -->
            <div class="journal-entries-section">
                <h3>Past Entries (Last 30 Days)</h3>
                <div id="journalEntriesContainer" class="journal-entries-container">
                    <!-- Past entries will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- SETTINGS TAB - App configuration and notifications -->
        <!-- ============================================ -->
        <div id="settingsTab" class="tab-content">
            
            <!-- Notification Settings Section -->
            <div class="settings-section">
                <h2>Email Notifications</h2>
                <p class="settings-description">
                    Get email reminders on your iPhone for tasks due within 24 hours.
                    Notifications are sent to your email address, which will appear on your iPhone.
                </p>
                
                <form id="notificationSettingsForm">
                    <!-- Enable/Disable Notifications -->
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="notificationsEnabled">
                            Enable email notifications
                        </label>
                    </div>
                    
                    <!-- Recipient Email -->
                    <div class="form-group">
                        <label for="notificationEmail">Your Email Address (for iPhone notifications):</label>
                        <input type="email" id="notificationEmail" placeholder="your.email@example.com">
                        <small>This is where notifications will be sent (will appear on your iPhone)</small>
                    </div>
                    
                    <!-- SMTP Server -->
                    <div class="form-group">
                        <label for="smtpServer">SMTP Server:</label>
                        <select id="smtpServer">
                            <option value="smtp.gmail.com">Gmail (smtp.gmail.com)</option>
                            <option value="smtp.mail.me.com">iCloud (smtp.mail.me.com)</option>
                            <option value="smtp-mail.outlook.com">Outlook (smtp-mail.outlook.com)</option>
                            <option value="custom">Custom</option>
                        </select>
                    </div>
                    
                    <!-- Custom SMTP Server -->
                    <div class="form-group" id="customSmtpGroup" style="display: none;">
                        <label for="customSmtpServer">Custom SMTP Server:</label>
                        <input type="text" id="customSmtpServer" placeholder="smtp.example.com">
                    </div>
                    
                    <!-- SMTP Port -->
                    <div class="form-group">
                        <label for="smtpPort">SMTP Port:</label>
                        <input type="number" id="smtpPort" value="587" min="1" max="65535">
                        <small>Usually 587 for TLS or 465 for SSL</small>
                    </div>
                    
                    <!-- Email Username -->
                    <div class="form-group">
                        <label for="emailUsername">Email Username:</label>
                        <input type="text" id="emailUsername" placeholder="your.email@example.com">
                        <small>Your full email address for authentication</small>
                    </div>
                    
                    <!-- Email Password/App Password -->
                    <div class="form-group">
                        <label for="emailPassword">Email Password / App Password:</label>
                        <input type="password" id="emailPassword" placeholder="Enter password or app password">
                        <small>
                            For Gmail: Use an App Password (not your regular password).
                            <a href="https://support.google.com/accounts/answer/185833" target="_blank">Learn how to create one</a>
                        </small>
                    </div>
                    
                    <!-- Check Interval -->
                    <div class="form-group">
                        <label for="checkInterval">Check for due tasks every (hours):</label>
                        <input type="number" id="checkInterval" value="1" min="1" max="24">
                        <small>How often to check for tasks due within 24 hours</small>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="form-actions">
                        <button type="button" id="testNotificationBtn" class="btn-secondary">Send Test Notification</button>
                        <button type="submit" class="btn-primary">Save Settings</button>
                    </div>
                </form>
            </div>
            
        </div>
    </div>

    <!-- JavaScript libraries and application code -->
    <script src="eel.js"></script>  <!-- Eel library for Python-JavaScript communication -->
    <script src="app.js"></script>   <!-- Main application JavaScript logic -->
</body>
</html>
